import{g as e}from"./p-a1b3783e.js";import{c as t}from"./p-5eef8cc8.js";function n(e){let t=this;Object.keys(e).forEach((function(n){t[n]=e[n]}))}function o(e,t){try{let n=this;if(n.rootModel){let o=e;return n.parentChain&&(o=`${n.parentChain}.${e}`),n.rootModel.setChainValue(o,t),!0}return!1}catch(n){console.error(n)}return!1}function l(t,n){if(t||!n)return;let o,l=this,i=e(l),c=i.getAttribute("view-model"),r=c;if(null===c&&(null===(o=i.getAttribute("name"))&&null!==i.getAttribute("label")&&(o=i.getAttribute("label").replace(/( |:|\/|\.|-)/g,"").toLowerCase()),r=o),c||o){if(l.__assignProperties.call(l,{rootModel:n,parentChain:r}),c){let e=n.getChainValue(r);if(!e)return;return Object.keys(e).forEach(e=>{u(e,`${r}.${e}`)}),void a()}for(let e=0;e<i.attributes.length;++e){const t=i.attributes[e];if(t.value.startsWith("@")){const e=t.value.split("@")[1];u(e,r?`${r}.${e}`:e)}}a()}else console.error("[Bind Model] At least one of the attributes should be defined in order to apply the binding: view-model, name, label");function u(e,t){l[e]=n.getChainValue(t),n.onChange(t,(function(){l[e]=n.getChainValue(t)}))}function a(){const e=`${r}.value`;n.getChainValue(r)&&!n.getChainValue(e)&&(console.warn("[Initialize] init chain for",e),u("value",e))}}function i(){return function(i){let{componentWillLoad:c}=i;i.componentWillLoad=function(){let i=this,r=e(i);return document.addEventListener("modelReady",(function(){t("getModelEvent",{bubbles:!0,composed:!1,cancellable:!0,detail:{callback:l.bind(i)}},!0,r)})),i.changeModel=o,i.__assignProperties=n,c&&c.call(i)}}}export{i as B};