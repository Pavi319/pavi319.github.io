const s=new class{constructor(){this.controllers={},this.pendingControllerRequests={}}registerController(s,t){this.controllers[s]=t,this._fullFillPreviousRequests(s)}_fullFillPreviousRequests(s){if(this.pendingControllerRequests[s])for(;this.pendingControllerRequests[s].length;)this.pendingControllerRequests[s].pop().resolve(this.controllers[s])}getController(s){return new Promise((t,i)=>{this.controllers[s]?t(this.controllers[s]):(this.pendingControllerRequests[s]||(this.pendingControllerRequests[s]=[]),this.pendingControllerRequests[s].push({resolve:t,reject:i}))})}};export{s as C};